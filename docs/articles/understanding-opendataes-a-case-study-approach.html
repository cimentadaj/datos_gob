<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Understanding opendataes: a case study approach • opendataes</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Understanding opendataes: a case study approach">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">opendataes</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/ins-and-outs-of-opendataes-guide-for-collaboration.html">Ins and outs  of opendataes: a guide for collaboration</a>
    </li>
    <li>
      <a href="../articles/understanding-opendataes-a-case-study-approach.html">Understanding opendataes: a case study approach</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropenspain/opendataes">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Understanding opendataes: a case study approach</h1>
                        <h4 class="author">Jorge Cimentada and Jorge Lopez</h4>
            
            <h4 class="date">2018-12-28</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ropenspain/opendataes/blob/master/vignettes/understanding-opendataes-a-case-study-approach.Rmd"><code>vignettes/understanding-opendataes-a-case-study-approach.Rmd</code></a></small>
      <div class="hidden name"><code>understanding-opendataes-a-case-study-approach.Rmd</code></div>

    </div>

    
    
<div id="understanding-opendataes" class="section level2">
<h2 class="hasAnchor">
<a href="#understanding-opendataes" class="anchor"></a>Understanding opendataes</h2>
<p>The idea behind <code>opendataes</code> is to allow users to read datasets as easy as possible while providing a stable and predictable behaviour. This is a bit tricky given that <a href="https://datos.gob.es" class="uri">https://datos.gob.es</a> aggregates from many different API’s which don’t have a unified standardized behavior. That is, each entity does not conform to a centralized guideline to their data format. In this vignette we’ll explore how we can read data using <code>openes_load</code> but diving into some of the pitfalls of having such an unstandardized API.</p>
<p>First, let’s read through a messy dataset, or in other words, a real-world dataset. An interesting data is one from the Ayuntamiento de Barcelona which details the causes of car accidents in the city. We could do this in two ways: either searching for the direct end path of the URL in <a href="https://datos.gob.es" class="uri">https://datos.gob.es</a> or we could search for the data interactively through keywords.</p>
<p>To search for keywords we need to know in advanced which publisher published the data that we’re looking for. Because only very few (as of October 2018) publishers have standardized datasets across their datasets, <code>opendataes</code> will aggregate new publishers slowly as they can show to provide stableness. We can check out which publishers are available with <code>publishers_available</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(opendataes)

publishers_available
<span class="co">#&gt;                                    publishers publisher_code</span>
<span class="co">#&gt; 1                   Ayuntamiento de Barcelona      L01080193</span>
<span class="co">#&gt; 2                      Ayuntamiento de Madrid      L01280796</span>
<span class="co">#&gt; 3                    Ayuntamiento de Valencia      L01462508</span>
<span class="co">#&gt; 4  Ayuntamiento de Las Palmas de Gran Canaria      L01350167</span>
<span class="co">#&gt; 5                      Ayuntamiento de Bilbao      L01480209</span>
<span class="co">#&gt; 6                    Ayuntamiento de Zaragoza      L01502973</span>
<span class="co">#&gt; 7                      Ayuntamiento de Malaga      L01290672</span>
<span class="co">#&gt; 8                       Ayuntamiento de Gijon      L01330241</span>
<span class="co">#&gt; 9                   Ayuntamiento de Santander      L01390759</span>
<span class="co">#&gt; 10                 Ayuntamiento de Alcobendas      L01280066</span></code></pre></div>
<p>Let’s subset the code of ‘Ayuntamiento de Barcelona’ and search for the keyword ‘accidentes’ which means accidents.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pub_code &lt;-<span class="st"> </span>publishers_available<span class="op">$</span>publisher_code[publishers_available<span class="op">$</span>publishers <span class="op">==</span><span class="st"> 'Ayuntamiento de Barcelona'</span>]
kw &lt;-<span class="st"> </span><span class="kw"><a href="../reference/openes_keywords.html">openes_keywords</a></span>(<span class="st">'accidentes'</span>, pub_code)
<span class="co">#&gt; Error in openes_keywords("accidentes", pub_code): There are not datasets matching the keyword `accidentes` and publisher `L01080193`</span></code></pre></div>
<p>Alright, so we need to be more creative</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">kw &lt;-<span class="st"> </span><span class="kw"><a href="../reference/openes_keywords.html">openes_keywords</a></span>(<span class="st">'causas accidentes'</span>, pub_code)
<span class="co">#&gt; Error in openes_keywords("causas accidentes", pub_code): There are not datasets matching the keyword `causas accidentes` and publisher `L01080193`</span></code></pre></div>
<p>When this happens, it’s just better to search on the website at <a href="https://datos.gob.es" class="uri">https://datos.gob.es</a>. Results there show that some of the keywords are ‘Accidentalidad’, ‘Guardia Urbana’ or ‘Causas’ ( <a href="http://datos.gob.es/es/catalogo/l01080193-descripcion-de-la-causalidad-de-los-accidentes-gestionados-por-la-guardia-urbana-en-la-ciudad-de-barcelona">see here</a>). To showcase how the R-based search works, we’ll continue using the new key words.</p>
<p>Side note: Why should we do the keyword-based search if we can use the website directly? Because you can use more generic keywords to look for similar datasets. For example, if we searched for ‘elecciones’ (elections) we would get many different datasets related to elections which could be streamlined to <code>openes_load</code> for easy reading. By doing it manually, you’d have to search each datasets separately and copy it’s end path.</p>
<p>Moving on to the keyword search, we type in the new keyword.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">kw &lt;-<span class="st"> </span><span class="kw"><a href="../reference/openes_keywords.html">openes_keywords</a></span>(<span class="st">'Accidentalidad'</span>, pub_code)
kw
<span class="co">#&gt; # A tibble: 5 x 5</span>
<span class="co">#&gt;   description         publisher   is_readable path_id         url          </span>
<span class="co">#&gt;   &lt;chr&gt;               &lt;chr&gt;       &lt;lgl&gt;       &lt;chr&gt;           &lt;chr&gt;        </span>
<span class="co">#&gt; 1 Listado de los veh~ Ayuntamien~ TRUE        l01080193-vehi~ http://datos~</span>
<span class="co">#&gt; 2 Personas involucra~ Ayuntamien~ TRUE        l01080193-pers~ http://datos~</span>
<span class="co">#&gt; 3 Listado de los acc~ Ayuntamien~ TRUE        l01080193-acci~ http://datos~</span>
<span class="co">#&gt; 4 Listado de los tip~ Ayuntamien~ TRUE        l01080193-acci~ http://datos~</span>
<span class="co">#&gt; 5 Listado de  de la ~ Ayuntamien~ TRUE        l01080193-desc~ http://datos~</span></code></pre></div>
<p>Looking at the description column, we can see the dataset that we’re looking for which states ‘Listado de los tipos de accidentes gestionados por la Guardia Urbana en la ciudad de Barcelona’. Let’s filter down only to that dataset and pass it to <code>openes_load</code>. Note that <code>openes_load</code> will throw an error if you ever pass this dataset with more than one row. It will only read one dataset and that implies a dataset with only one row.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">kw &lt;-<span class="st"> </span>kw[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/grep">grepl</a></span>(<span class="st">'Listado de los tipos de accidentes gestionados por la Guardia Urbana en la ciudad de Barcelona.'</span>, kw<span class="op">$</span>description), ]
accidents &lt;-<span class="st"> </span><span class="kw"><a href="../reference/openes_load.html">openes_load</a></span>(kw)

accidents
<span class="co">#&gt; &lt;datos.gob.es API&gt;</span>
<span class="co">#&gt;    Description: Listado de los tipos de accidentes gestionados por la Gua...</span>
<span class="co">#&gt;    Publisher: Ayuntamiento de Barcelona</span>
<span class="co">#&gt;    Languages: en, es, ca</span>
<span class="co">#&gt;    Date of release: NA</span>
<span class="co">#&gt;    # of files read: 8 out of 8</span></code></pre></div>
<p>The printed metadata from above is just a summary of the metadata slot:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">accidents<span class="op">$</span>metadata
<span class="co">#&gt; # A tibble: 3 x 8</span>
<span class="co">#&gt;   keywords language description url   date_issued         date_modified</span>
<span class="co">#&gt;   &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;       &lt;chr&gt; &lt;dttm&gt;              &lt;chr&gt;        </span>
<span class="co">#&gt; 1 Acciden~ en       List of ty~ http~ NA                  No modificat~</span>
<span class="co">#&gt; 2 Acciden~ es       Listado de~ http~ NA                  No modificat~</span>
<span class="co">#&gt; 3 Acciden~ ca       Llistat de~ http~ NA                  No modificat~</span>
<span class="co">#&gt; # ... with 2 more variables: publisher &lt;chr&gt;, publisher_data_url &lt;chr&gt;</span></code></pre></div>
<p>and the data slot:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">accidents<span class="op">$</span>data
<span class="co">#&gt; $`2012_ACCIDENTS_TIPUS_GU_BCN_.csv`</span>
<span class="co">#&gt; # A tibble: 9,819 x 20</span>
<span class="co">#&gt;    `N£mero d'exped~ `Codi districte` `Nom districte` `Codi barri`</span>
<span class="co">#&gt;    &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2012S005688                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  2 2012S002763                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  3 2012S007349                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  4 2012S003847                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  5 2012S009254                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  6 2012S000046                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  7 2012S000746                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  8 2012S006222                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  9 2012S004425                    10 Sant Mart¡                64</span>
<span class="co">#&gt; 10 2012S003295                    10 Sant Mart¡                64</span>
<span class="co">#&gt; # ... with 9,809 more rows, and 16 more variables: `Nom barri` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Codi carrer` &lt;dbl&gt;, `Nom carrer` &lt;chr&gt;, `Num postal caption` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ dia setmana` &lt;chr&gt;, `Dia setmana` &lt;chr&gt;, `Descripci¢ tipus</span>
<span class="co">#&gt; #   dia` &lt;chr&gt;, `NK Any` &lt;dbl&gt;, `Mes de any` &lt;dbl&gt;, `Nom mes` &lt;chr&gt;, `Dia</span>
<span class="co">#&gt; #   de mes` &lt;dbl&gt;, `Hora de dia` &lt;dbl&gt;, `Descripci¢ torn` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ tipus accident` &lt;chr&gt;, `Coordenada UTM (Y)` &lt;dbl&gt;,</span>
<span class="co">#&gt; #   `Coordenada UTM (X)` &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2015_ACCIDENTS_TIPUS_GU_BCN_.csv`</span>
<span class="co">#&gt; # A tibble: 10,521 x 20</span>
<span class="co">#&gt;    `Número d'exped~ `Codi districte` `Nom districte` `Codi barri`</span>
<span class="co">#&gt;    &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2015S000215                    10 Sant Martí                64</span>
<span class="co">#&gt;  2 2015S000787                    10 Sant Martí                64</span>
<span class="co">#&gt;  3 2015S000390                    10 Sant Martí                64</span>
<span class="co">#&gt;  4 2015S007294                    10 Sant Martí                64</span>
<span class="co">#&gt;  5 2015S009836                    10 Sant Martí                64</span>
<span class="co">#&gt;  6 2015S009453                    10 Sant Martí                64</span>
<span class="co">#&gt;  7 2015S007312                    10 Sant Martí                64</span>
<span class="co">#&gt;  8 2015S004660                    10 Sant Martí                64</span>
<span class="co">#&gt;  9 2015S006407                    10 Sant Martí                64</span>
<span class="co">#&gt; 10 2015S009834                    10 Sant Martí                64</span>
<span class="co">#&gt; # ... with 10,511 more rows, and 16 more variables: `Nom barri` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Codi carrer` &lt;dbl&gt;, `Nom carrer` &lt;chr&gt;, `Num postal caption` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripció dia setmana` &lt;chr&gt;, `Dia setmana` &lt;chr&gt;, `Descripció tipus</span>
<span class="co">#&gt; #   dia` &lt;chr&gt;, `NK Any` &lt;dbl&gt;, `Mes de any` &lt;dbl&gt;, `Nom mes` &lt;chr&gt;, `Dia</span>
<span class="co">#&gt; #   de mes` &lt;dbl&gt;, `Hora de dia` &lt;chr&gt;, `Descripció torn` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripció tipus accident` &lt;chr&gt;, `Coordenada UTM (Y)` &lt;dbl&gt;,</span>
<span class="co">#&gt; #   `Coordenada UTM (X)` &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2010_ACCIDENTS_TIPUS_GU_BCN_.csv`</span>
<span class="co">#&gt; # A tibble: 9,518 x 20</span>
<span class="co">#&gt;    `N£mero d'exped~ `Codi districte` `Nom districte` `Codi barri`</span>
<span class="co">#&gt;    &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2010S006909                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  2 2010S006757                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  3 2010S005591                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  4 2010S008924                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  5 2010S000187                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  6 2010S001506                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  7 2010S003708                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  8 2010S009015                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  9 2010S002944                    10 Sant Mart¡                64</span>
<span class="co">#&gt; 10 2010S001386                    10 Sant Mart¡                64</span>
<span class="co">#&gt; # ... with 9,508 more rows, and 16 more variables: `Nom barri` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Codi carrer` &lt;dbl&gt;, `Nom carrer` &lt;chr&gt;, `Num postal caption` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ dia setmana` &lt;chr&gt;, `Dia setmana` &lt;chr&gt;, `Descripci¢ tipus</span>
<span class="co">#&gt; #   dia` &lt;chr&gt;, `NK Any` &lt;dbl&gt;, `Mes de any` &lt;dbl&gt;, `Nom mes` &lt;chr&gt;, `Dia</span>
<span class="co">#&gt; #   de mes` &lt;dbl&gt;, `Hora de dia` &lt;dbl&gt;, `Descripci¢ torn` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ tipus accident` &lt;chr&gt;, `Coordenada UTM (Y)` &lt;dbl&gt;,</span>
<span class="co">#&gt; #   `Coordenada UTM (X)` &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2011_ACCIDENTS_TIPUS_GU_BCN_.csv`</span>
<span class="co">#&gt; # A tibble: 9,275 x 20</span>
<span class="co">#&gt;    `N£mero d'exped~ `Codi districte` `Nom districte` `Codi barri`</span>
<span class="co">#&gt;    &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2011S007726                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  2 2011S000791                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  3 2011S004524                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  4 2011S002431                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  5 2011S007530                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  6 2011S000669                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  7 2011S006833                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  8 2011S000770                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  9 2011S008377                    10 Sant Mart¡                64</span>
<span class="co">#&gt; 10 2011S002789                    10 Sant Mart¡                64</span>
<span class="co">#&gt; # ... with 9,265 more rows, and 16 more variables: `Nom barri` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Codi carrer` &lt;dbl&gt;, `Nom carrer` &lt;chr&gt;, `Num postal caption` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ dia setmana` &lt;chr&gt;, `Dia setmana` &lt;chr&gt;, `Descripci¢ tipus</span>
<span class="co">#&gt; #   dia` &lt;chr&gt;, `NK Any` &lt;dbl&gt;, `Mes de any` &lt;dbl&gt;, `Nom mes` &lt;chr&gt;, `Dia</span>
<span class="co">#&gt; #   de mes` &lt;dbl&gt;, `Hora de dia` &lt;dbl&gt;, `Descripci¢ torn` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ tipus accident` &lt;chr&gt;, `Coordenada UTM (Y)` &lt;dbl&gt;,</span>
<span class="co">#&gt; #   `Coordenada UTM (X)` &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2017_ACCIDENTS_TIPUS_GU_BCN`</span>
<span class="co">#&gt; # A tibble: 11,009 x 22</span>
<span class="co">#&gt;    Numero_expedient Codi_districte Nom_districte Codi_barri Nom_barri</span>
<span class="co">#&gt;    &lt;chr&gt;                     &lt;dbl&gt; &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;    </span>
<span class="co">#&gt;  1 2017S009418                  -1 Desconegut            -1 Desconeg~</span>
<span class="co">#&gt;  2 2017S008852                  -1 Desconegut            -1 Desconeg~</span>
<span class="co">#&gt;  3 2017S001023                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  4 2017S009198                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  5 2017S006546                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  6 2017S003698                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  7 2017S004977                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  8 2017S008080                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  9 2017S004521                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt; 10 2017S004180                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt; # ... with 10,999 more rows, and 17 more variables: Codi_carrer &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Nom_carrer &lt;chr&gt;, Num_postal_caption &lt;chr&gt;,</span>
<span class="co">#&gt; #   Descripcio_dia_setmana &lt;chr&gt;, Dia_setmana &lt;chr&gt;,</span>
<span class="co">#&gt; #   Descripcio_tipus_dia &lt;chr&gt;, NK_Any &lt;dbl&gt;, Mes_any &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Nom_mes &lt;chr&gt;, Dia_mes &lt;dbl&gt;, Hora_dia &lt;dbl&gt;, Descripcio_torn &lt;chr&gt;,</span>
<span class="co">#&gt; #   Descripcio_tipus_accident &lt;chr&gt;, Coordenada_UTM_X &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Coordenada_UTM_Y &lt;dbl&gt;, Longitud &lt;dbl&gt;, Latitud &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2013_ACCIDENTS_TIPUS_GU_BCN_.csv`</span>
<span class="co">#&gt; # A tibble: 10,039 x 20</span>
<span class="co">#&gt;    `N£mero d'exped~ `Codi districte` `Nom districte` `Codi barri`</span>
<span class="co">#&gt;    &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2013S009145                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  2 2013S006244                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  3 2013S000511                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  4 2013S009354                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  5 2013S001212                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  6 2013S004033                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  7 2013S009460                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  8 2013S001091                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  9 2013S008659                    10 Sant Mart¡                64</span>
<span class="co">#&gt; 10 2013S008254                    10 Sant Mart¡                64</span>
<span class="co">#&gt; # ... with 10,029 more rows, and 16 more variables: `Nom barri` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Codi carrer` &lt;dbl&gt;, `Nom carrer` &lt;chr&gt;, `Num postal caption` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ dia setmana` &lt;chr&gt;, `Dia setmana` &lt;chr&gt;, `Descripci¢ tipus</span>
<span class="co">#&gt; #   dia` &lt;chr&gt;, `NK Any` &lt;dbl&gt;, `Mes de any` &lt;dbl&gt;, `Nom mes` &lt;chr&gt;, `Dia</span>
<span class="co">#&gt; #   de mes` &lt;dbl&gt;, `Hora de dia` &lt;dbl&gt;, `Descripci¢ torn` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ tipus accident` &lt;chr&gt;, `Coordenada UTM (Y)` &lt;dbl&gt;,</span>
<span class="co">#&gt; #   `Coordenada UTM (X)` &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2014_ACCIDENTS_TIPUS_GU_BCN_.csv`</span>
<span class="co">#&gt; # A tibble: 10,157 x 20</span>
<span class="co">#&gt;    `N£mero d'exped~ `Codi districte` `Nom districte` `Codi barri`</span>
<span class="co">#&gt;    &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2014S007794                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  2 2014S001086                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  3 2014S008488                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  4 2014S000086                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  5 2014S003039                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  6 2014S008370                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  7 2014S005938                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  8 2014S008180                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  9 2014S001264                    10 Sant Mart¡                64</span>
<span class="co">#&gt; 10 2014S003376                    10 Sant Mart¡                64</span>
<span class="co">#&gt; # ... with 10,147 more rows, and 16 more variables: `Nom barri` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Codi carrer` &lt;dbl&gt;, `Nom carrer` &lt;chr&gt;, `Num postal caption` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ dia setmana` &lt;chr&gt;, `Dia setmana` &lt;chr&gt;, `Descripci¢ tipus</span>
<span class="co">#&gt; #   dia` &lt;chr&gt;, `NK Any` &lt;dbl&gt;, `Mes de any` &lt;dbl&gt;, `Nom mes` &lt;chr&gt;, `Dia</span>
<span class="co">#&gt; #   de mes` &lt;dbl&gt;, `Hora de dia` &lt;dbl&gt;, `Descripci¢ torn` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ tipus accident` &lt;chr&gt;, `Coordenada UTM (Y)` &lt;dbl&gt;,</span>
<span class="co">#&gt; #   `Coordenada UTM (X)` &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2016_ACCIDENTS_TIPUS_GU_BCN.csv`</span>
<span class="co">#&gt; # A tibble: 10,701 x 22</span>
<span class="co">#&gt;    Numero_expedient Codi_districte Nom_districte Codi_barri Nom_barri</span>
<span class="co">#&gt;    &lt;chr&gt;                     &lt;dbl&gt; &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;    </span>
<span class="co">#&gt;  1 2016S002575                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  2 2016S001146                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  3 2016S009619                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  4 2016S003881                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  5 2016S004162                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  6 2016S009951                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  7 2016S004619                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  8 2016S009702                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  9 2016S003529                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt; 10 2016S008654                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt; # ... with 10,691 more rows, and 17 more variables: Codi_carrer &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Nom_carrer &lt;chr&gt;, Num_postal_caption &lt;chr&gt;,</span>
<span class="co">#&gt; #   Descripcio_dia_setmana &lt;chr&gt;, Dia_setmana &lt;chr&gt;,</span>
<span class="co">#&gt; #   Descripcio_tipus_dia &lt;chr&gt;, NK_Any &lt;dbl&gt;, Mes_any &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Nom_mes &lt;chr&gt;, Dia_mes &lt;dbl&gt;, Hora_dia &lt;dbl&gt;, Descripcio_torn &lt;chr&gt;,</span>
<span class="co">#&gt; #   Descripcio_tipus_accident &lt;chr&gt;, Coordenada_UTM_X &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Coordenada_UTM_Y &lt;dbl&gt;, Long &lt;dbl&gt;, Lat &lt;dbl&gt;</span></code></pre></div>
<p>Oopss, that’s a weird error. This is one problem that can happen quite often because Spain shares many languages inside it’s territory and some datasets might have different encodings. We can figure out the encoding with <code>readr</code> and just pass it to <code>openes_load</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Figure out the encoding using only the first dataset which suggests it's ASCII</span>
readr<span class="op">::</span><span class="kw"><a href="https://readr.tidyverse.org/reference/encoding.html">guess_encoding</a></span>(accidents<span class="op">$</span>data[[<span class="dv">1</span>]])
<span class="co">#&gt; Warning in if (stringi::stri_enc_isascii(lines)) {: la condición tiene</span>
<span class="co">#&gt; longitud &gt; 1 y sólo el primer elemento será usado</span>
<span class="co">#&gt; # A tibble: 1 x 2</span>
<span class="co">#&gt;   encoding confidence</span>
<span class="co">#&gt;   &lt;chr&gt;         &lt;dbl&gt;</span>
<span class="co">#&gt; 1 ASCII             1</span>

accidents &lt;-<span class="st"> </span><span class="kw"><a href="../reference/openes_load.html">openes_load</a></span>(kw, <span class="dt">encoding =</span> <span class="st">'ASCII'</span>)</code></pre></div>
<p>The result in the data slot is always a list that will contain data frames either with the data (if it was successful in reading it) or with the URL to the dataset (if it failed reading it for some reason).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">accidents<span class="op">$</span>data
<span class="co">#&gt; $`2012_ACCIDENTS_TIPUS_GU_BCN_.csv`</span>
<span class="co">#&gt; # A tibble: 9,819 x 20</span>
<span class="co">#&gt;    `N£mero d'exped~ `Codi districte` `Nom districte` `Codi barri`</span>
<span class="co">#&gt;    &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2012S005688                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  2 2012S002763                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  3 2012S007349                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  4 2012S003847                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  5 2012S009254                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  6 2012S000046                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  7 2012S000746                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  8 2012S006222                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  9 2012S004425                    10 Sant Mart¡                64</span>
<span class="co">#&gt; 10 2012S003295                    10 Sant Mart¡                64</span>
<span class="co">#&gt; # ... with 9,809 more rows, and 16 more variables: `Nom barri` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Codi carrer` &lt;dbl&gt;, `Nom carrer` &lt;chr&gt;, `Num postal caption` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ dia setmana` &lt;chr&gt;, `Dia setmana` &lt;chr&gt;, `Descripci¢ tipus</span>
<span class="co">#&gt; #   dia` &lt;chr&gt;, `NK Any` &lt;dbl&gt;, `Mes de any` &lt;dbl&gt;, `Nom mes` &lt;chr&gt;, `Dia</span>
<span class="co">#&gt; #   de mes` &lt;dbl&gt;, `Hora de dia` &lt;dbl&gt;, `Descripci¢ torn` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ tipus accident` &lt;chr&gt;, `Coordenada UTM (Y)` &lt;dbl&gt;,</span>
<span class="co">#&gt; #   `Coordenada UTM (X)` &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2015_ACCIDENTS_TIPUS_GU_BCN_.csv`</span>
<span class="co">#&gt; # A tibble: 10,521 x 20</span>
<span class="co">#&gt;    `Número d'exped~ `Codi districte` `Nom districte` `Codi barri`</span>
<span class="co">#&gt;    &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2015S000215                    10 Sant Martí                64</span>
<span class="co">#&gt;  2 2015S000787                    10 Sant Martí                64</span>
<span class="co">#&gt;  3 2015S000390                    10 Sant Martí                64</span>
<span class="co">#&gt;  4 2015S007294                    10 Sant Martí                64</span>
<span class="co">#&gt;  5 2015S009836                    10 Sant Martí                64</span>
<span class="co">#&gt;  6 2015S009453                    10 Sant Martí                64</span>
<span class="co">#&gt;  7 2015S007312                    10 Sant Martí                64</span>
<span class="co">#&gt;  8 2015S004660                    10 Sant Martí                64</span>
<span class="co">#&gt;  9 2015S006407                    10 Sant Martí                64</span>
<span class="co">#&gt; 10 2015S009834                    10 Sant Martí                64</span>
<span class="co">#&gt; # ... with 10,511 more rows, and 16 more variables: `Nom barri` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Codi carrer` &lt;dbl&gt;, `Nom carrer` &lt;chr&gt;, `Num postal caption` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripció dia setmana` &lt;chr&gt;, `Dia setmana` &lt;chr&gt;, `Descripció tipus</span>
<span class="co">#&gt; #   dia` &lt;chr&gt;, `NK Any` &lt;dbl&gt;, `Mes de any` &lt;dbl&gt;, `Nom mes` &lt;chr&gt;, `Dia</span>
<span class="co">#&gt; #   de mes` &lt;dbl&gt;, `Hora de dia` &lt;chr&gt;, `Descripció torn` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripció tipus accident` &lt;chr&gt;, `Coordenada UTM (Y)` &lt;dbl&gt;,</span>
<span class="co">#&gt; #   `Coordenada UTM (X)` &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2010_ACCIDENTS_TIPUS_GU_BCN_.csv`</span>
<span class="co">#&gt; # A tibble: 9,518 x 20</span>
<span class="co">#&gt;    `N£mero d'exped~ `Codi districte` `Nom districte` `Codi barri`</span>
<span class="co">#&gt;    &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2010S006909                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  2 2010S006757                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  3 2010S005591                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  4 2010S008924                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  5 2010S000187                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  6 2010S001506                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  7 2010S003708                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  8 2010S009015                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  9 2010S002944                    10 Sant Mart¡                64</span>
<span class="co">#&gt; 10 2010S001386                    10 Sant Mart¡                64</span>
<span class="co">#&gt; # ... with 9,508 more rows, and 16 more variables: `Nom barri` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Codi carrer` &lt;dbl&gt;, `Nom carrer` &lt;chr&gt;, `Num postal caption` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ dia setmana` &lt;chr&gt;, `Dia setmana` &lt;chr&gt;, `Descripci¢ tipus</span>
<span class="co">#&gt; #   dia` &lt;chr&gt;, `NK Any` &lt;dbl&gt;, `Mes de any` &lt;dbl&gt;, `Nom mes` &lt;chr&gt;, `Dia</span>
<span class="co">#&gt; #   de mes` &lt;dbl&gt;, `Hora de dia` &lt;dbl&gt;, `Descripci¢ torn` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ tipus accident` &lt;chr&gt;, `Coordenada UTM (Y)` &lt;dbl&gt;,</span>
<span class="co">#&gt; #   `Coordenada UTM (X)` &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2011_ACCIDENTS_TIPUS_GU_BCN_.csv`</span>
<span class="co">#&gt; # A tibble: 9,275 x 20</span>
<span class="co">#&gt;    `N£mero d'exped~ `Codi districte` `Nom districte` `Codi barri`</span>
<span class="co">#&gt;    &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2011S007726                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  2 2011S000791                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  3 2011S004524                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  4 2011S002431                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  5 2011S007530                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  6 2011S000669                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  7 2011S006833                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  8 2011S000770                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  9 2011S008377                    10 Sant Mart¡                64</span>
<span class="co">#&gt; 10 2011S002789                    10 Sant Mart¡                64</span>
<span class="co">#&gt; # ... with 9,265 more rows, and 16 more variables: `Nom barri` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Codi carrer` &lt;dbl&gt;, `Nom carrer` &lt;chr&gt;, `Num postal caption` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ dia setmana` &lt;chr&gt;, `Dia setmana` &lt;chr&gt;, `Descripci¢ tipus</span>
<span class="co">#&gt; #   dia` &lt;chr&gt;, `NK Any` &lt;dbl&gt;, `Mes de any` &lt;dbl&gt;, `Nom mes` &lt;chr&gt;, `Dia</span>
<span class="co">#&gt; #   de mes` &lt;dbl&gt;, `Hora de dia` &lt;dbl&gt;, `Descripci¢ torn` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ tipus accident` &lt;chr&gt;, `Coordenada UTM (Y)` &lt;dbl&gt;,</span>
<span class="co">#&gt; #   `Coordenada UTM (X)` &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2017_ACCIDENTS_TIPUS_GU_BCN`</span>
<span class="co">#&gt; # A tibble: 11,009 x 22</span>
<span class="co">#&gt;    Numero_expedient Codi_districte Nom_districte Codi_barri Nom_barri</span>
<span class="co">#&gt;    &lt;chr&gt;                     &lt;dbl&gt; &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;    </span>
<span class="co">#&gt;  1 2017S009418                  -1 Desconegut            -1 Desconeg~</span>
<span class="co">#&gt;  2 2017S008852                  -1 Desconegut            -1 Desconeg~</span>
<span class="co">#&gt;  3 2017S001023                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  4 2017S009198                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  5 2017S006546                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  6 2017S003698                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  7 2017S004977                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  8 2017S008080                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  9 2017S004521                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt; 10 2017S004180                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt; # ... with 10,999 more rows, and 17 more variables: Codi_carrer &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Nom_carrer &lt;chr&gt;, Num_postal_caption &lt;chr&gt;,</span>
<span class="co">#&gt; #   Descripcio_dia_setmana &lt;chr&gt;, Dia_setmana &lt;chr&gt;,</span>
<span class="co">#&gt; #   Descripcio_tipus_dia &lt;chr&gt;, NK_Any &lt;dbl&gt;, Mes_any &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Nom_mes &lt;chr&gt;, Dia_mes &lt;dbl&gt;, Hora_dia &lt;dbl&gt;, Descripcio_torn &lt;chr&gt;,</span>
<span class="co">#&gt; #   Descripcio_tipus_accident &lt;chr&gt;, Coordenada_UTM_X &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Coordenada_UTM_Y &lt;dbl&gt;, Longitud &lt;dbl&gt;, Latitud &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2013_ACCIDENTS_TIPUS_GU_BCN_.csv`</span>
<span class="co">#&gt; # A tibble: 10,039 x 20</span>
<span class="co">#&gt;    `N£mero d'exped~ `Codi districte` `Nom districte` `Codi barri`</span>
<span class="co">#&gt;    &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2013S009145                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  2 2013S006244                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  3 2013S000511                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  4 2013S009354                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  5 2013S001212                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  6 2013S004033                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  7 2013S009460                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  8 2013S001091                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  9 2013S008659                    10 Sant Mart¡                64</span>
<span class="co">#&gt; 10 2013S008254                    10 Sant Mart¡                64</span>
<span class="co">#&gt; # ... with 10,029 more rows, and 16 more variables: `Nom barri` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Codi carrer` &lt;dbl&gt;, `Nom carrer` &lt;chr&gt;, `Num postal caption` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ dia setmana` &lt;chr&gt;, `Dia setmana` &lt;chr&gt;, `Descripci¢ tipus</span>
<span class="co">#&gt; #   dia` &lt;chr&gt;, `NK Any` &lt;dbl&gt;, `Mes de any` &lt;dbl&gt;, `Nom mes` &lt;chr&gt;, `Dia</span>
<span class="co">#&gt; #   de mes` &lt;dbl&gt;, `Hora de dia` &lt;dbl&gt;, `Descripci¢ torn` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ tipus accident` &lt;chr&gt;, `Coordenada UTM (Y)` &lt;dbl&gt;,</span>
<span class="co">#&gt; #   `Coordenada UTM (X)` &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2014_ACCIDENTS_TIPUS_GU_BCN_.csv`</span>
<span class="co">#&gt; # A tibble: 10,157 x 20</span>
<span class="co">#&gt;    `N£mero d'exped~ `Codi districte` `Nom districte` `Codi barri`</span>
<span class="co">#&gt;    &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2014S007794                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  2 2014S001086                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  3 2014S008488                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  4 2014S000086                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  5 2014S003039                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  6 2014S008370                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  7 2014S005938                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  8 2014S008180                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  9 2014S001264                    10 Sant Mart¡                64</span>
<span class="co">#&gt; 10 2014S003376                    10 Sant Mart¡                64</span>
<span class="co">#&gt; # ... with 10,147 more rows, and 16 more variables: `Nom barri` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Codi carrer` &lt;dbl&gt;, `Nom carrer` &lt;chr&gt;, `Num postal caption` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ dia setmana` &lt;chr&gt;, `Dia setmana` &lt;chr&gt;, `Descripci¢ tipus</span>
<span class="co">#&gt; #   dia` &lt;chr&gt;, `NK Any` &lt;dbl&gt;, `Mes de any` &lt;dbl&gt;, `Nom mes` &lt;chr&gt;, `Dia</span>
<span class="co">#&gt; #   de mes` &lt;dbl&gt;, `Hora de dia` &lt;dbl&gt;, `Descripci¢ torn` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ tipus accident` &lt;chr&gt;, `Coordenada UTM (Y)` &lt;dbl&gt;,</span>
<span class="co">#&gt; #   `Coordenada UTM (X)` &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2016_ACCIDENTS_TIPUS_GU_BCN.csv`</span>
<span class="co">#&gt; # A tibble: 10,701 x 22</span>
<span class="co">#&gt;    Numero_expedient Codi_districte Nom_districte Codi_barri Nom_barri</span>
<span class="co">#&gt;    &lt;chr&gt;                     &lt;dbl&gt; &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;    </span>
<span class="co">#&gt;  1 2016S002575                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  2 2016S001146                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  3 2016S009619                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  4 2016S003881                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  5 2016S004162                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  6 2016S009951                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  7 2016S004619                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  8 2016S009702                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  9 2016S003529                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt; 10 2016S008654                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt; # ... with 10,691 more rows, and 17 more variables: Codi_carrer &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Nom_carrer &lt;chr&gt;, Num_postal_caption &lt;chr&gt;,</span>
<span class="co">#&gt; #   Descripcio_dia_setmana &lt;chr&gt;, Dia_setmana &lt;chr&gt;,</span>
<span class="co">#&gt; #   Descripcio_tipus_dia &lt;chr&gt;, NK_Any &lt;dbl&gt;, Mes_any &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Nom_mes &lt;chr&gt;, Dia_mes &lt;dbl&gt;, Hora_dia &lt;dbl&gt;, Descripcio_torn &lt;chr&gt;,</span>
<span class="co">#&gt; #   Descripcio_tipus_accident &lt;chr&gt;, Coordenada_UTM_X &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Coordenada_UTM_Y &lt;dbl&gt;, Long &lt;dbl&gt;, Lat &lt;dbl&gt;</span></code></pre></div>
<p>As we can see, the data slot from <code>openes_load</code> read a list of data frames but why so many?</p>
<p>This becomes clear once we look at the website of the dataset we’re reading:</p>
<p><img src="datos_formats.png" align="center"></p>
<p><br><br></p>
<p>As you can see, there are datasets for years 2010, 2011, etc.. where each year is in three different formats (CSV, XLSX and XML as of October 2018).</p>
<p>How does <code>openes_load</code> handle this? Well, to avoid problems between some datasets having slightly different structures between formats, it always aims for the simpler formats in an order of preference. You can check which formats are available with <code>permitted_formats</code> although the user should never have to worry about this because the functions take care of this. However, if you try to read a dataset which only has formats that are not in <code>permitted_formats</code>, <code>openes_load</code> will return the same data structure as if there were a dataset, but the <code>data</code> slot will contain a <code>tibble</code> with the format URL’s of the non-available formats so that the user can read this directly (for example, try reading this <code><a href="../reference/openes_load.html">openes_load('l01080193-carta-arqueologica-de-barcelona')</a></code>).</p>
<p>Coming back to the accidents data, this explains why many datasets were read. We can compare the name of each dataset to figure out what they mean.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(accidents<span class="op">$</span>data)
<span class="co">#&gt; [1] "2012_ACCIDENTS_TIPUS_GU_BCN_.csv" "2015_ACCIDENTS_TIPUS_GU_BCN_.csv"</span>
<span class="co">#&gt; [3] "2010_ACCIDENTS_TIPUS_GU_BCN_.csv" "2011_ACCIDENTS_TIPUS_GU_BCN_.csv"</span>
<span class="co">#&gt; [5] "2017_ACCIDENTS_TIPUS_GU_BCN"      "2013_ACCIDENTS_TIPUS_GU_BCN_.csv"</span>
<span class="co">#&gt; [7] "2014_ACCIDENTS_TIPUS_GU_BCN_.csv" "2016_ACCIDENTS_TIPUS_GU_BCN.csv"</span></code></pre></div>
<p>They’re the causes of accidents for different years. Let’s sort them according to the year and check whether all were read.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">accidents<span class="op">$</span>data &lt;-<span class="st"> </span>accidents<span class="op">$</span>data[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sort">sort</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(accidents<span class="op">$</span>data))]
accidents<span class="op">$</span>data
<span class="co">#&gt; $`2010_ACCIDENTS_TIPUS_GU_BCN_.csv`</span>
<span class="co">#&gt; # A tibble: 9,518 x 20</span>
<span class="co">#&gt;    `N£mero d'exped~ `Codi districte` `Nom districte` `Codi barri`</span>
<span class="co">#&gt;    &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2010S006909                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  2 2010S006757                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  3 2010S005591                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  4 2010S008924                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  5 2010S000187                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  6 2010S001506                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  7 2010S003708                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  8 2010S009015                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  9 2010S002944                    10 Sant Mart¡                64</span>
<span class="co">#&gt; 10 2010S001386                    10 Sant Mart¡                64</span>
<span class="co">#&gt; # ... with 9,508 more rows, and 16 more variables: `Nom barri` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Codi carrer` &lt;dbl&gt;, `Nom carrer` &lt;chr&gt;, `Num postal caption` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ dia setmana` &lt;chr&gt;, `Dia setmana` &lt;chr&gt;, `Descripci¢ tipus</span>
<span class="co">#&gt; #   dia` &lt;chr&gt;, `NK Any` &lt;dbl&gt;, `Mes de any` &lt;dbl&gt;, `Nom mes` &lt;chr&gt;, `Dia</span>
<span class="co">#&gt; #   de mes` &lt;dbl&gt;, `Hora de dia` &lt;dbl&gt;, `Descripci¢ torn` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ tipus accident` &lt;chr&gt;, `Coordenada UTM (Y)` &lt;dbl&gt;,</span>
<span class="co">#&gt; #   `Coordenada UTM (X)` &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2011_ACCIDENTS_TIPUS_GU_BCN_.csv`</span>
<span class="co">#&gt; # A tibble: 9,275 x 20</span>
<span class="co">#&gt;    `N£mero d'exped~ `Codi districte` `Nom districte` `Codi barri`</span>
<span class="co">#&gt;    &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2011S007726                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  2 2011S000791                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  3 2011S004524                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  4 2011S002431                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  5 2011S007530                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  6 2011S000669                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  7 2011S006833                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  8 2011S000770                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  9 2011S008377                    10 Sant Mart¡                64</span>
<span class="co">#&gt; 10 2011S002789                    10 Sant Mart¡                64</span>
<span class="co">#&gt; # ... with 9,265 more rows, and 16 more variables: `Nom barri` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Codi carrer` &lt;dbl&gt;, `Nom carrer` &lt;chr&gt;, `Num postal caption` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ dia setmana` &lt;chr&gt;, `Dia setmana` &lt;chr&gt;, `Descripci¢ tipus</span>
<span class="co">#&gt; #   dia` &lt;chr&gt;, `NK Any` &lt;dbl&gt;, `Mes de any` &lt;dbl&gt;, `Nom mes` &lt;chr&gt;, `Dia</span>
<span class="co">#&gt; #   de mes` &lt;dbl&gt;, `Hora de dia` &lt;dbl&gt;, `Descripci¢ torn` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ tipus accident` &lt;chr&gt;, `Coordenada UTM (Y)` &lt;dbl&gt;,</span>
<span class="co">#&gt; #   `Coordenada UTM (X)` &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2012_ACCIDENTS_TIPUS_GU_BCN_.csv`</span>
<span class="co">#&gt; # A tibble: 9,819 x 20</span>
<span class="co">#&gt;    `N£mero d'exped~ `Codi districte` `Nom districte` `Codi barri`</span>
<span class="co">#&gt;    &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2012S005688                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  2 2012S002763                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  3 2012S007349                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  4 2012S003847                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  5 2012S009254                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  6 2012S000046                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  7 2012S000746                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  8 2012S006222                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  9 2012S004425                    10 Sant Mart¡                64</span>
<span class="co">#&gt; 10 2012S003295                    10 Sant Mart¡                64</span>
<span class="co">#&gt; # ... with 9,809 more rows, and 16 more variables: `Nom barri` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Codi carrer` &lt;dbl&gt;, `Nom carrer` &lt;chr&gt;, `Num postal caption` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ dia setmana` &lt;chr&gt;, `Dia setmana` &lt;chr&gt;, `Descripci¢ tipus</span>
<span class="co">#&gt; #   dia` &lt;chr&gt;, `NK Any` &lt;dbl&gt;, `Mes de any` &lt;dbl&gt;, `Nom mes` &lt;chr&gt;, `Dia</span>
<span class="co">#&gt; #   de mes` &lt;dbl&gt;, `Hora de dia` &lt;dbl&gt;, `Descripci¢ torn` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ tipus accident` &lt;chr&gt;, `Coordenada UTM (Y)` &lt;dbl&gt;,</span>
<span class="co">#&gt; #   `Coordenada UTM (X)` &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2013_ACCIDENTS_TIPUS_GU_BCN_.csv`</span>
<span class="co">#&gt; # A tibble: 10,039 x 20</span>
<span class="co">#&gt;    `N£mero d'exped~ `Codi districte` `Nom districte` `Codi barri`</span>
<span class="co">#&gt;    &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2013S009145                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  2 2013S006244                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  3 2013S000511                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  4 2013S009354                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  5 2013S001212                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  6 2013S004033                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  7 2013S009460                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  8 2013S001091                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  9 2013S008659                    10 Sant Mart¡                64</span>
<span class="co">#&gt; 10 2013S008254                    10 Sant Mart¡                64</span>
<span class="co">#&gt; # ... with 10,029 more rows, and 16 more variables: `Nom barri` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Codi carrer` &lt;dbl&gt;, `Nom carrer` &lt;chr&gt;, `Num postal caption` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ dia setmana` &lt;chr&gt;, `Dia setmana` &lt;chr&gt;, `Descripci¢ tipus</span>
<span class="co">#&gt; #   dia` &lt;chr&gt;, `NK Any` &lt;dbl&gt;, `Mes de any` &lt;dbl&gt;, `Nom mes` &lt;chr&gt;, `Dia</span>
<span class="co">#&gt; #   de mes` &lt;dbl&gt;, `Hora de dia` &lt;dbl&gt;, `Descripci¢ torn` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ tipus accident` &lt;chr&gt;, `Coordenada UTM (Y)` &lt;dbl&gt;,</span>
<span class="co">#&gt; #   `Coordenada UTM (X)` &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2014_ACCIDENTS_TIPUS_GU_BCN_.csv`</span>
<span class="co">#&gt; # A tibble: 10,157 x 20</span>
<span class="co">#&gt;    `N£mero d'exped~ `Codi districte` `Nom districte` `Codi barri`</span>
<span class="co">#&gt;    &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2014S007794                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  2 2014S001086                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  3 2014S008488                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  4 2014S000086                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  5 2014S003039                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  6 2014S008370                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  7 2014S005938                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  8 2014S008180                    10 Sant Mart¡                64</span>
<span class="co">#&gt;  9 2014S001264                    10 Sant Mart¡                64</span>
<span class="co">#&gt; 10 2014S003376                    10 Sant Mart¡                64</span>
<span class="co">#&gt; # ... with 10,147 more rows, and 16 more variables: `Nom barri` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Codi carrer` &lt;dbl&gt;, `Nom carrer` &lt;chr&gt;, `Num postal caption` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ dia setmana` &lt;chr&gt;, `Dia setmana` &lt;chr&gt;, `Descripci¢ tipus</span>
<span class="co">#&gt; #   dia` &lt;chr&gt;, `NK Any` &lt;dbl&gt;, `Mes de any` &lt;dbl&gt;, `Nom mes` &lt;chr&gt;, `Dia</span>
<span class="co">#&gt; #   de mes` &lt;dbl&gt;, `Hora de dia` &lt;dbl&gt;, `Descripci¢ torn` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripci¢ tipus accident` &lt;chr&gt;, `Coordenada UTM (Y)` &lt;dbl&gt;,</span>
<span class="co">#&gt; #   `Coordenada UTM (X)` &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2015_ACCIDENTS_TIPUS_GU_BCN_.csv`</span>
<span class="co">#&gt; # A tibble: 10,521 x 20</span>
<span class="co">#&gt;    `Número d'exped~ `Codi districte` `Nom districte` `Codi barri`</span>
<span class="co">#&gt;    &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2015S000215                    10 Sant Martí                64</span>
<span class="co">#&gt;  2 2015S000787                    10 Sant Martí                64</span>
<span class="co">#&gt;  3 2015S000390                    10 Sant Martí                64</span>
<span class="co">#&gt;  4 2015S007294                    10 Sant Martí                64</span>
<span class="co">#&gt;  5 2015S009836                    10 Sant Martí                64</span>
<span class="co">#&gt;  6 2015S009453                    10 Sant Martí                64</span>
<span class="co">#&gt;  7 2015S007312                    10 Sant Martí                64</span>
<span class="co">#&gt;  8 2015S004660                    10 Sant Martí                64</span>
<span class="co">#&gt;  9 2015S006407                    10 Sant Martí                64</span>
<span class="co">#&gt; 10 2015S009834                    10 Sant Martí                64</span>
<span class="co">#&gt; # ... with 10,511 more rows, and 16 more variables: `Nom barri` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Codi carrer` &lt;dbl&gt;, `Nom carrer` &lt;chr&gt;, `Num postal caption` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripció dia setmana` &lt;chr&gt;, `Dia setmana` &lt;chr&gt;, `Descripció tipus</span>
<span class="co">#&gt; #   dia` &lt;chr&gt;, `NK Any` &lt;dbl&gt;, `Mes de any` &lt;dbl&gt;, `Nom mes` &lt;chr&gt;, `Dia</span>
<span class="co">#&gt; #   de mes` &lt;dbl&gt;, `Hora de dia` &lt;chr&gt;, `Descripció torn` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Descripció tipus accident` &lt;chr&gt;, `Coordenada UTM (Y)` &lt;dbl&gt;,</span>
<span class="co">#&gt; #   `Coordenada UTM (X)` &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2016_ACCIDENTS_TIPUS_GU_BCN.csv`</span>
<span class="co">#&gt; # A tibble: 10,701 x 22</span>
<span class="co">#&gt;    Numero_expedient Codi_districte Nom_districte Codi_barri Nom_barri</span>
<span class="co">#&gt;    &lt;chr&gt;                     &lt;dbl&gt; &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;    </span>
<span class="co">#&gt;  1 2016S002575                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  2 2016S001146                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  3 2016S009619                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  4 2016S003881                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  5 2016S004162                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  6 2016S009951                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  7 2016S004619                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  8 2016S009702                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  9 2016S003529                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt; 10 2016S008654                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt; # ... with 10,691 more rows, and 17 more variables: Codi_carrer &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Nom_carrer &lt;chr&gt;, Num_postal_caption &lt;chr&gt;,</span>
<span class="co">#&gt; #   Descripcio_dia_setmana &lt;chr&gt;, Dia_setmana &lt;chr&gt;,</span>
<span class="co">#&gt; #   Descripcio_tipus_dia &lt;chr&gt;, NK_Any &lt;dbl&gt;, Mes_any &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Nom_mes &lt;chr&gt;, Dia_mes &lt;dbl&gt;, Hora_dia &lt;dbl&gt;, Descripcio_torn &lt;chr&gt;,</span>
<span class="co">#&gt; #   Descripcio_tipus_accident &lt;chr&gt;, Coordenada_UTM_X &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Coordenada_UTM_Y &lt;dbl&gt;, Long &lt;dbl&gt;, Lat &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`2017_ACCIDENTS_TIPUS_GU_BCN`</span>
<span class="co">#&gt; # A tibble: 11,009 x 22</span>
<span class="co">#&gt;    Numero_expedient Codi_districte Nom_districte Codi_barri Nom_barri</span>
<span class="co">#&gt;    &lt;chr&gt;                     &lt;dbl&gt; &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;    </span>
<span class="co">#&gt;  1 2017S009418                  -1 Desconegut            -1 Desconeg~</span>
<span class="co">#&gt;  2 2017S008852                  -1 Desconegut            -1 Desconeg~</span>
<span class="co">#&gt;  3 2017S001023                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  4 2017S009198                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  5 2017S006546                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  6 2017S003698                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  7 2017S004977                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  8 2017S008080                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt;  9 2017S004521                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt; 10 2017S004180                  10 Sant Martí            64 el Camp ~</span>
<span class="co">#&gt; # ... with 10,999 more rows, and 17 more variables: Codi_carrer &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Nom_carrer &lt;chr&gt;, Num_postal_caption &lt;chr&gt;,</span>
<span class="co">#&gt; #   Descripcio_dia_setmana &lt;chr&gt;, Dia_setmana &lt;chr&gt;,</span>
<span class="co">#&gt; #   Descripcio_tipus_dia &lt;chr&gt;, NK_Any &lt;dbl&gt;, Mes_any &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Nom_mes &lt;chr&gt;, Dia_mes &lt;dbl&gt;, Hora_dia &lt;dbl&gt;, Descripcio_torn &lt;chr&gt;,</span>
<span class="co">#&gt; #   Descripcio_tipus_accident &lt;chr&gt;, Coordenada_UTM_X &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Coordenada_UTM_Y &lt;dbl&gt;, Longitud &lt;dbl&gt;, Latitud &lt;dbl&gt;</span></code></pre></div>
<p>But if we look closer, we can see that the data for 2016 and 2017 were not read correctly (as of 2018/10/30). For that case, <code>openes_load</code> returns the link it attempted to read together with the format. For now we’ll exclude these two but the user can read them manually with the provided link. For a simple check, printing the returned object of <code>openes_load</code> will tell you how many files were read.</p>
<p>You can also access the metadata in the metadata slot which contains most of the metadata related to that given dataset. For example..</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">accidents<span class="op">$</span>metadata
<span class="co">#&gt; # A tibble: 3 x 8</span>
<span class="co">#&gt;   keywords language description url   date_issued         date_modified</span>
<span class="co">#&gt;   &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;       &lt;chr&gt; &lt;dttm&gt;              &lt;chr&gt;        </span>
<span class="co">#&gt; 1 Acciden~ en       List of ty~ http~ 2015-11-18 23:00:00 No modificat~</span>
<span class="co">#&gt; 2 Acciden~ es       Listado de~ http~ 2015-11-18 23:00:00 No modificat~</span>
<span class="co">#&gt; 3 Acciden~ ca       Llistat de~ http~ 2015-11-18 23:00:00 No modificat~</span>
<span class="co">#&gt; # ... with 2 more variables: publisher &lt;chr&gt;, publisher_data_url &lt;chr&gt;</span></code></pre></div>
<p>For a detailed description of what each of these column mean, check the documentation of <code>openes_load</code> with <code><a href="../reference/openes_load.html">?openes_load</a></code>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#understanding-opendataes">Understanding opendataes</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Jorge Cimentada, Jorge Lopez.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
